[buildout]
index = https://pypi.org/simple/
develop = .
parts =
    test
    backup
    code-analysis
show-picked-versions = true
versions = versions
# network speedup
socket-timeout = 3

[backup]
# Might as well simply test creating a backup script here.
recipe = collective.recipe.backup
backup_blobs = false


[test]
recipe = zc.recipe.testrunner
eggs = collective.recipe.backup[tests]
defaults = ['--auto-color', '--auto-progress', '--ndiff']


[code-analysis]
recipe = plone.recipe.codeanalysis
directory = ${buildout:directory}/src/collective/recipe/backup
# For multiprocessing on 3.8 we would need plone.recipe.codeanalysis master.
multiprocessing = false
flake8-max-complexity = 15
return-status-codes = False
# E203 Whitespace before ':' [false positives when using black]
# E501 line too long
# W503 Line break occurred before a binary operator [outdated]
flake8-ignore = E203 E501 W503
flake8 = true
flake8-extensions =
    flake8-blind-except
    flake8-coding
# When using "black" you don't want this:
#    flake8-commas
    flake8-debugger
    flake8-deprecated
    flake8-isort
    flake8-pep3101
# These are nice for Plone, but useless for a buildout recipe:
#    flake8-plone-api
#    flake8-plone-hasattr
#    flake8-print
# When using "black" without "--skip-string-normalization" you don't want this:
#    flake8-quotes
    flake8-string-format
    flake8-todo
# extra:
    pep8-naming

[versions]
# unpin these, so we use whatever is available without restarting buildout:
setuptools =
zc.buildout =

# other:
build = 0.8.0
check-manifest = 0.48
flake8 = 5.0.4
flake8-blind-except = 0.2.1
flake8-coding = 1.3.2
flake8-debugger = 4.1.2
flake8-deprecated = 1.3
flake8-isort = 4.2.0
flake8-pep3101 = 1.3.0
flake8-string-format = 0.3.0
flake8-todo = 0.7
isort = 5.10.1
lxml = 4.9.1
manuel = 1.12.4
mccabe = 0.7.0
packaging = 21.3
pep517 = 0.13.0
pep8-naming = 0.13.2
plone.recipe.codeanalysis = 3.0.1
pycodestyle = 2.9.1
pyflakes = 2.5.0
pyparsing = 3.0.9
six = 1.16.0
tomli = 2.0.1
WebOb = 1.8.7
zc.recipe.deployment = 1.3.0
zc.recipe.egg = 2.0.7
zc.recipe.testrunner = 2.2
zc.zdaemonrecipe = 1.0.0
ZConfig = 3.6.0
zdaemon = 4.3
zope.exceptions = 4.5
zope.interface = 5.4.0
zope.testing = 4.10
zope.testrunner = 5.5.1
